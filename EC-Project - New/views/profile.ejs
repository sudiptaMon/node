<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/index.css" />
    <link flex href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
    <script src="../script/index.js" defer></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <title>Profile</title>

    <style>
        #container {
            display: flex;
            flex-direction: column;
            height: 90vh;
            width: 100vw;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        #image {}

        #image img {
            height: 200px;
            width: 200px;
            border-radius: 50%;
            object-fit: cover;
            padding: 5px;
            border: 4px solid green;

        }

        #image span {
            margin: -10px;
        }

        hr {
            height: 1px;
            width: 100%;
            background-color: lightgray;
            border: 0;
            margin: 2rem 0;
        }

        a {
            color: black;
        }

        #info {
            display: flex;

            flex-direction: column;
            gap: 5px;
        }

        #info input {
            border: none;
            border-bottom: 2px solid gray;
        }

        .field {
            width: 100%;
            display: flex;
            flex-direction: column;
            border: 1px solid var(--color-lighter-gray);
            padding: .5rem;
            border-radius: .25rem;
        }

        .field__label {
            color: var(--color-gray);
            font-size: 0.6rem;
            font-weight: 800;
            text-transform: uppercase;
            margin-bottom: 0.25rem
        }

        .field__input {
            padding: 0;
            margin: 0;
            border: 0;
            outline: 0;
            font-weight: bold;
            font-size: 1rem;
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            background-color: transparent;
        }
    </style>
</head>

<body>
    <%-include('sidebar')%>
        <form id="container" method="post" action="/saveprofile" enctype="multipart/form-data">
            <div id="image">

                <img src="<%=user.url%>" alt="">
                <span><label for="profileImage"><i class="fa fa-edit"></i></label></span>
                <input type="file" name="profileImage" id="profileImage" hidden>
            </div>
            <hr>
            <div id="info">
                <label class="field">
                    <span class="field__label" for="firstname">Username</span>
                    <input class="field__input" type="text" id="firstname" name="username" value="<%=user.username%>"
                        disabled />
                    <span><i class="fa fa-edit" onclick="enablename()"></i></span>
                </label>

                <label class="field">
                    <span class="field__label" for="email">Email</span>
                    <input class="field__input" type="text" id="email" name="email" value="<%=user.email%>"
                        disabled />
                    <span><i class="fa fa-edit" onclick="enableemail()"></i></span>
                </label>
                <button type="submit">Save</button>
            </div>

        </form>
        
        <script>
            function enablename(){
                document.getElementById("firstname").disabled=false;
            }
            function enableemail(){
                document.getElementById("email").disabled=false;
            }
        </script>
</body>

</html>